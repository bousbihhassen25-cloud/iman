<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>إيمان — ١٠٠ حديث</title>
  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#0f3aa1">
  <style>
    :root {
      --bg-grad1:#0b1e66; --bg-grad2:#1a59d1; --card:#ffffff; --text:#0b1220; --muted:#5b667a;
      --accent:#2a85ff; --accent-2:#19b5ff; --shadow:0 10px 30px rgba(21,83,176,.10);
      --chip:#eef4ff; --chip-border:#e0e9ff;
    }
    .dark {
      --bg-grad1:#060b1f; --bg-grad2:#0b1e3f; --card:#0f1629; --text:#e7ecf5; --muted:#93a0b5;
      --accent:#7aa7ff; --accent-2:#33d0ff; --shadow:0 10px 30px rgba(0,0,0,.35);
      --chip:#0f1b33; --chip-border:#1c2947;
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      font-family:"Cairo","Noto Naskh Arabic","Amiri","Tahoma","Segoe UI",Arial,sans-serif;
      background: linear-gradient(180deg, var(--bg-grad1), var(--bg-grad2));
      color:var(--text); line-height:1.85;
    }

    /* Splash */
    #splash{position:fixed;inset:0;background:linear-gradient(135deg,var(--bg-grad1),var(--bg-grad2));
      display:flex;align-items:center;justify-content:center;z-index:999;color:#fff}
    #splash .logo{font-size:2rem;letter-spacing:.5px; padding:18px 28px; border:1px solid rgba(255,255,255,.25);
      border-radius:16px; box-shadow:var(--shadow)}

    header{position:sticky;top:0;z-index:10;background:rgba(255,255,255,.06);backdrop-filter:blur(8px);
      color:#fff;padding:14px 16px;border-bottom:1px solid rgba(255,255,255,.12)}
    header .row{display:flex;align-items:center;gap:10px;justify-content:space-between;max-width:980px;margin:0 auto}
    header h1{margin:0;font-size:1.2rem}
    .controls{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
    .chip{background:var(--chip); color:var(--text); border:1px solid var(--chip-border); padding:6px 10px;border-radius:999px; font-size:.9rem; cursor:pointer}
    .chip.active{background:var(--accent); color:#fff; border-color:transparent}
    .toggle{display:flex;align-items:center;gap:6px;font-size:.9rem;cursor:pointer;color:#fff}
    .search{flex:1;min-width:200px}
    .search input{width:100%;padding:10px;border-radius:12px;border:1px solid var(--chip-border)}

    .wrap{max-width:980px;margin:16px auto 120px;padding:0 16px}
    .card{background:var(--card);border:1px solid var(--chip-border);border-radius:18px;box-shadow:var(--shadow);overflow:hidden}
    .bar{background:linear-gradient(90deg,var(--accent),var(--accent-2));height:6px}
    .content{padding:16px}
    ol{margin:0;padding:0} li{list-style:none;margin:10px 0;padding:14px 14px;border:1px solid var(--chip-border);
      border-radius:14px;background:#fff0;cursor:pointer;transition:.2s}
    .dark li{background:#0f1629}
    li:hover{transform:translateY(-1px);box-shadow:var(--shadow)}
    .li-row{display:flex;align-items:flex-start;gap:10px}
    .num{min-width:2.2em;height:2.2em;display:flex;align-items:center;justify-content:center;border-radius:10px;
      background:linear-gradient(180deg,var(--accent),var(--accent-2));color:#fff;font-weight:700}
    .text{flex:1}
    .fav{background:var(--chip);border:1px solid var(--chip-border);border-radius:10px;padding:6px 10px;cursor:pointer}
    .fav.active{background:gold; border-color:gold}

    /* Full view */
    #hadith-view{display:none;text-align:center;padding:40px 20px}
    #hadith-view p{font-size:1.8rem;line-height:2.5rem;max-width:900px;margin:0 auto 16px}
    #actions{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
    #actions button{background:var(--accent);color:#fff;border:none;border-radius:12px;padding:10px 14px;cursor:pointer}
    #actions .sec{background:var(--chip);color:var(--text);border:1px solid var(--chip-border)}

    footer{position:fixed;bottom:14px;inset-inline:14px;display:flex;gap:10px;justify-content:space-between;align-items:center;
      background:rgba(255,255,255,.9);backdrop-filter:blur(6px);border:1px solid var(--chip-border);border-radius:14px;padding:10px 14px;box-shadow:var(--shadow)}
    .dark footer{background:rgba(10,16,30,.9)}
    .muted{color:var(--muted);font-size:.9rem}
  </style>
</head>
<body>
  <div id="splash"><div class="logo">إيمان — ١٠٠ حديث</div></div>
  <header>
    <div class="row">
      <h1>أحاديث مكارم الأخلاق</h1>
      <div class="controls">
        <span class="chip active" id="tab-all">الكل</span>
        <span class="chip" id="tab-fav">المفضلة</span>
        <label class="toggle"><input type="checkbox" id="darkToggle"> وضع ليلي 🌙</label>
        <div class="search"><input id="search" placeholder="ابحث عن حديث…"></div>
      </div>
    </div>
  </header>

  <main class="wrap" id="main-list">
    <div class="card">
      <div class="bar"></div>
      <div class="content">
        <ol id="list"></ol>
      </div>
    </div>
  </main>

  <div id="hadith-view">
    <p id="hadith-text"></p>
    <div id="actions">
      <button onclick="goBack()">الرجوع</button>
      <button class="sec" id="shareBtn">مشاركة</button>
      <button class="sec" id="copyBtn">نسخ</button>
      <button class="sec" id="favBtn">⭐ مفضلة</button>
    </div>
  </div>

  <footer id="footer">
    <span class="muted">📖 مصادر الأحاديث: صحيح البخاري، صحيح مسلم، الترمذي، وغيرها.</span>
    <span class="muted">© إيمان</span>
  </footer>

<script>
  // ----- Data -----
  const HADITHS = ["«أكملُ المؤمنين إيمانًا أحسنُهم خُلُقًا» (الترمذي).", "«إنَّ من أحبِّكم إليَّ وأقربكم مني مجلسًا يوم القيامة أحاسنكم أخلاقًا» (البخاري).", "«ما كان الرِّفق في شيء إلا زانه، وما نُزع من شيء إلا شانه» (مسلم).", "«الرَّاحمون يرحمهم الرحمن، ارحموا من في الأرض يرحمكم من في السماء» (الترمذي).", "«من لا يَرحم لا يُرحم» (البخاري ومسلم).", "«إن الله كتب الإحسان على كل شيء» (مسلم).", "«إن الله رفيق يحب الرفق ويعطي على الرفق ما لا يعطي على العنف» (مسلم).", "«إن المؤمن ليدرك بحسن خلقه درجة الصائم القائم» (أبو داود).", "«أقربكم مني مجلسًا يوم القيامة أحاسنكم أخلاقًا» (الترمذي).", "«إن الله جميل يحب الجمال» (مسلم).", "«لا يؤمن أحدكم حتى يحبَّ لأخيه ما يحبُّ لنفسه» (البخاري ومسلم).", "«المسلم أخو المسلم، لا يَظلمه ولا يخذله» (البخاري ومسلم).", "«من كان يؤمن بالله واليوم الآخر فليقل خيرًا أو ليصمت» (البخاري ومسلم).", "«تبسُّمك في وجه أخيك لك صدقة» (الترمذي).", "«انصر أخاك ظالمًا أو مظلومًا» (البخاري).", "«حق المسلم على المسلم ست…» (مسلم).", "«يسروا ولا تعسروا، وبشروا ولا تنفروا» (البخاري ومسلم).", "«الدين النصيحة» (مسلم).", "«لا تحاسدوا ولا تباغضوا وكونوا عباد الله إخوانًا» (البخاري ومسلم).", "«تهادوا تحابوا» (الأدب المفرد، حسن).", "«اليد العليا خير من اليد السفلى» (البخاري ومسلم).", "«ما نقصت صدقةٌ من مال» (مسلم).", "«من نفَّس عن مؤمن كربة من كُرَب الدنيا نفَّس الله عنه كربة من كُرَب يوم القيامة» (مسلم).", "«والله في عون العبد ما كان العبد في عون أخيه» (مسلم).", "«أحبُّ الناس إلى الله أنفعهم للناس» (الطبراني، صحيح).", "«خير الناس أنفعهم للناس» (أحمد).", "«اتقوا النار ولو بشق تمرة» (البخاري ومسلم).", "«الساعي على الأرملة والمسكين كالمجاهد…» (البخاري ومسلم).", "«من ستر مسلمًا ستره الله في الدنيا والآخرة» (مسلم).", "«أطعموا الطعام، وأفشوا السلام… تدخلوا الجنة بسلام» (أحمد، صحيح).", "«الحياء شعبة من الإيمان» (البخاري ومسلم).", "«ليس الشديد بالصُّرَعة، إنما الشديد الذي يملك نفسه عند الغضب» (البخاري ومسلم).", "«الصبر ضياء» (مسلم).", "«ما تواضع أحد لله إلا رفعه» (مسلم).", "«ومن يتصبر يصبره الله» (البخاري).", "«إنما العلم بالتعلُّم، وإنما الحِلم بالتحلُّم» (حسن).", "«من كظم غيظًا وهو قادر على أن ينفذه دعاه الله…» (أبو داود، حسن).", "«لا تغضب» (البخاري).", "«أقرب ما يكون العبد من ربه وهو ساجد» (مسلم).", "«من عفا وأصلح فأجره على الله» (معناه ثابت).", "«عليكم بالصدق فإن الصدق يهدي إلى البر…» (البخاري ومسلم).", "«آية المنافق ثلاث… وإذا حدث كذب…» (البخاري ومسلم).", "«أدِّ الأمانة إلى من ائتمنك» (الترمذي، حسن).", "«التاجر الصدوق الأمين مع النبيين والصدّيقين والشهداء» (الترمذي).", "«البيعان بالخيار ما لم يتفرقا… فإن صدقا وبينا بورك لهما» (البخاري ومسلم).", "«لا إيمان لمن لا أمانة له ولا دين لمن لا عهد له» (أحمد، حسن).", "«من غش فليس منا» (مسلم).", "«إن الصدق طمأنينة، وإن الكذب ريبة» (الترمذي).", "«القضاة ثلاثة…» (أبو داود والترمذي).", "«إن الله يأمركم أن تؤدوا الأمانات إلى أهلها» (خلق عام).", "«رضا الرب في رضا الوالد وسخط الرب في سخط الوالد» (الترمذي، حسن).", "«أمك ثم أمك ثم أمك ثم أبوك» (مسلم).", "«من أحب أن يبسط له في رزقه ويُنسأ له في أثره فليصل رحمه» (البخاري ومسلم).", "«ليس الواصل بالمكافئ ولكن الواصل الذي إذا قُطعت رحمه وصلها» (البخاري).", "«الوالد أوسط أبواب الجنة» (الترمذي، حسن).", "«إن من أبر البر صلة الرجل أهل وُدّ أبيه» (مسلم).", "«من سرّه أن يمدّ له في عمره ويوسّع له في رزقه فليتق الله وليصل رحمه» (أحمد).", "«حرمة المسلم ماله وعرضه ودمه» (مسلم).", "«سبّاب المسلم فسوق وقتاله كفر» (البخاري ومسلم).", "«ليس منا من لم يوقّر كبيرنا ويرحم صغيرنا» (الترمذي، حسن).", "«من كان يؤمن بالله واليوم الآخر فلا يؤذ جاره» (البخاري ومسلم).", "«ما زال جبريل يوصيني بالجار حتى ظننت أنه سيورّثه» (البخاري ومسلم).", "«والله لا يؤمن… من لا يأمن جاره بوائقه» (البخاري).", "«المؤمن للمؤمن كالبنيان يشد بعضه بعضًا» (البخاري ومسلم).", "«مثل المؤمنين في توادّهم وتراحمهم وتعاطفهم مثل الجسد…» (مسلم).", "«لا تؤذوا المسلمين ولا تعيّروهم ولا تتبعوا عوراتهم» (الترمذي).", "«من كان يؤمن بالله واليوم الآخر فليكرم ضيفه» (البخاري ومسلم).", "«أفشوا السلام بينكم» (مسلم).", "«لا يحل لمسلم أن يهجر أخاه فوق ثلاث» (البخاري ومسلم).", "«من سنّ في الإسلام سنة حسنة…» (مسلم).", "«المسلم من سلم المسلمون من لسانه ويده» (البخاري ومسلم).", "«وهل يكبُّ الناس في النار على وجوههم إلا حصائد ألسنتهم؟» (الترمذي).", "«ليس المؤمن بالطعّان ولا اللعّان ولا الفاحش ولا البذيء» (الترمذي).", "«بحسب امرئ من الشر أن يحقر أخاه المسلم» (مسلم).", "«من ستر مسلمًا ستره الله» (مسلم).", "«من حسن إسلام المرء تركه ما لا يعنيه» (الترمذي).", "«لا يؤمن أحدكم حتى يأمن جاره بوائقه» (مسلم).", "«كفى بالمرء كذبًا أن يحدث بكل ما سمع» (مسلم).", "«من كان يؤمن بالله واليوم الآخر فليقل خيرًا أو ليصمت» (البخاري ومسلم).", "«القذف من الكبائر» (وعيد).", "«ازهد في الدنيا يحبك الله، وازهد فيما عند الناس يحبك الناس» (ابن ماجه، حسن).", "«لا يدخل الجنة من كان في قلبه مثقال ذرة من كبر» (مسلم).", "«ألا أخبركم بأهل الجنة؟ كل ضعيف متضعف… وأهل النار كل عتل جواظ مستكبر» (البخاري ومسلم).", "«اللهم آت نفسي تقواها…» (مسلم).", "«من أحب لقاء الله أحب الله لقاءه» (البخاري ومسلم).", "«الدنيا سجن المؤمن وجنة الكافر» (مسلم).", "«اتق الله حيثما كنت وأتبع السيئة الحسنة تمحها وخالق الناس بخلق حسن» (الترمذي).", "«إن الله لا ينظر إلى صوركم وأموالكم ولكن ينظر إلى قلوبكم وأعمالكم» (مسلم).", "«سَدِّدوا وقاربوا وأبشروا» (البخاري ومسلم).", "«الكَيِّس من دان نفسه وعمل لما بعد الموت» (الترمذي).", "«اتقوا الظلم فإن الظلم ظلمات يوم القيامة» (مسلم).", "«أعطوا الأجير أجره قبل أن يجف عرقه» (ابن ماجه، حسن).", "«المُفلس من يأتي يوم القيامة بصلاة وصيام… وقد شتم هذا وأكل مال هذا… فيأخذ هذا من حسناته…» (مسلم).", "«إنما بعثت لأتمم مكارم الأخلاق» (حسن).", "«رحم الله عبدًا سمحًا إذا باع وإذا اشترى وإذا اقتضى» (البخاري).", "«إن الله يحب سمح البيع، سمح الشراء، سمح القضاء» (حسن).", "«على اليد ما أخذت حتى تؤديه» (الترمذي).", "«لا ضرر ولا ضرار» (مالك وأحمد).", "«من غصب شبرًا من أرض طُوّقه من سبع أرضين» (البخاري ومسلم).", "«المسلمون على شروطهم» (أبو داود).", "«إن الله طيب لا يقبل إلا طيبًا… ثم ذكر الرجل يطيل السفر…» (مسلم).", "«يا غلام سَمِّ الله وكل بيمينك وكل مما يليك» (البخاري ومسلم).", "«الكلمة الطيبة صدقة» (البخاري ومسلم).", "«اتقوا النار ولو بشق تمرة، فإن لم تجدوا فبكلمة طيبة» (أحمد).", "«سؤال الله الهداية والثبات» (أدعية ثابتة).", "«البِر حسن الخلق» (مسلم).", "«الدعاء هو العبادة» (الترمذي).", "«من دلّ على خير فله مثل أجر فاعله» (مسلم).", "«إن الله يحب معالي الأمور ويكره سفسافها» (الطبراني).", "«تَبَسُّمُكَ في وجه أخيك صدقة» (الترمذي)."];
  let favorites = JSON.parse(localStorage.getItem('iman-favs')||'[]');

  // ----- Theme -----
  const darkToggle = document.getElementById('darkToggle');
  const savedTheme = localStorage.getItem('iman-theme');
  if(savedTheme==='dark') { document.body.classList.add('dark'); darkToggle.checked = true; }
  darkToggle.addEventListener('change',()=>{
    document.body.classList.toggle('dark', darkToggle.checked);
    localStorage.setItem('iman-theme', darkToggle.checked ? 'dark' : 'light');
  });

  // ----- Render List -----
  const listEl = document.getElementById('list');
  function renderList(filterText='', onlyFav=false){
    listEl.innerHTML='';
    const q = filterText.trim();
    HADITHS.forEach((t, i)=>{
      const idx = i+1;
      if(q && !t.includes(q)) return;
      if(onlyFav && !favorites.includes(idx)) return;
      const li = document.createElement('li');
      li.dataset.index = idx;
      li.innerHTML = `
        <div class="li-row">
          <div class="num">${idx}</div>
          <div class="text">${t}</div>
          <button class="fav ${favorites.includes(idx)?'active':''}" data-fav="${idx}">⭐</button>
        </div>`;
      listEl.appendChild(li);
    });
  }

  // initial render
  renderList();

  // ----- Search -----
  const search = document.getElementById('search');
  search.addEventListener('input', ()=>{
    const onlyFav = document.getElementById('tab-fav').classList.contains('active');
    renderList(search.value, onlyFav);
  });

  // ----- Tabs (All / Favorites) -----
  const tabAll = document.getElementById('tab-all');
  const tabFav = document.getElementById('tab-fav');
  function setTab(fav){
    tabAll.classList.toggle('active', !fav);
    tabFav.classList.toggle('active', fav);
    renderList(search.value, fav);
  }
  tabAll.addEventListener('click', ()=>setTab(false));
  tabFav.addEventListener('click', ()=>setTab(true));

  // ----- Click handlers (open hadith / toggle fav) -----
  document.addEventListener('click', (e)=>{
    const favBtn = e.target.closest('button[data-fav]');
    if(favBtn){
      const id = parseInt(favBtn.dataset.fav);
      const i = favorites.indexOf(id);
      if(i>-1) favorites.splice(i,1); else favorites.push(id);
      localStorage.setItem('iman-favs', JSON.stringify(favorites));
      renderList(search.value, tabFav.classList.contains('active'));
      return;
    }
    const li = e.target.closest('li[data-index]');
    if(li) openHadith(parseInt(li.dataset.index));
  });

  // ----- Full view -----
  const mainList = document.getElementById('main-list');
  const hadithView = document.getElementById('hadith-view');
  const hadithText = document.getElementById('hadith-text');
  const favBtn = document.getElementById('favBtn');
  let currentId = null;

  function openHadith(id){
    currentId = id;
    hadithText.textContent = `${id}- ${HADITHS[id-1]}`;
    favBtn.classList.toggle('active', favorites.includes(id));
    mainList.style.display='none'; document.getElementById('footer').style.display='none';
    hadithView.style.display='block';
    history.pushState({view:'hadith', id}, '', '#hadith-'+id);
  }
  function goBack(){
    hadithView.style.display='none';
    mainList.style.display='block'; document.getElementById('footer').style.display='flex';
    history.pushState({view:'list'}, '', '#list');
  }
  favBtn.addEventListener('click', ()=>{
    if(currentId==null) return;
    const i = favorites.indexOf(currentId);
    if(i>-1) favorites.splice(i,1); else favorites.push(currentId);
    localStorage.setItem('iman-favs', JSON.stringify(favorites));
    favBtn.classList.toggle('active', favorites.includes(currentId));
  });

  // ----- Share / Copy -----
  const shareBtn = document.getElementById('shareBtn');
  const copyBtn  = document.getElementById('copyBtn');
  shareBtn.addEventListener('click', async ()=>{
    const text = hadithText.textContent;
    if(navigator.share){
      try{ await navigator.share({title:'إيمان — ١٠٠ حديث', text}); }catch(e){}
    } else {
      await navigator.clipboard.writeText(text);
      shareBtn.textContent = 'تم النسخ ✓'; setTimeout(()=>shareBtn.textContent='مشاركة',1200);
    }
  });
  copyBtn.addEventListener('click', async ()=>{
    const text = hadithText.textContent;
    await navigator.clipboard.writeText(text);
    copyBtn.textContent = 'تم النسخ ✓'; setTimeout(()=>copyBtn.textContent='نسخ',1200);
  });

  // ----- Splash hide -----
  window.addEventListener('load', ()=>{
    setTimeout(()=>{ const s=document.getElementById('splash'); if(s) s.style.display='none'; }, 600);
  });
</script>
</body>
</html>